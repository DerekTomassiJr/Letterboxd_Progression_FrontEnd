{"ast":null,"code":"var _s = $RefreshSig$();\n\n//Adapted from dev.to Form Validation in ReactJs\nimport React, { useState } from 'react';\nimport { omit } from 'lodash';\n\nconst useForm = callback => {\n  _s();\n\n  //Form values\n  const [values, setValues] = useState({}); //Errors\n\n  const [errors, setErrors] = useState({});\n\n  const validate = (event, name, value) => {\n    //A function to validate each input values\n    switch (name) {\n      case 'user_search':\n        if (value.length <= 4) {\n          // we will set the error state\n          setErrors({ ...errors,\n            user_search: 'Search atleast have 5 letters'\n          });\n        } else {\n          // set the error state empty or remove the error for username input\n          //omit function removes/omits the value from given object and returns a new object\n          let newObj = omit(errors, \"user_search\");\n          setErrors(newObj);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }; //A method to handle form inputs\n\n\n  const handleChange = event => {\n    //To stop default events    \n    console.log(\"hello from handle change\");\n    event.persist();\n    let name = event.target.name;\n    let val = event.target.value;\n    validate(event, name, val); //Let's set these values in state\n\n    setValues({ ...values,\n      [name]: val\n    });\n  };\n\n  const handleSubmit = event => {\n    if (event) {\n      console.log(\"Hello from HandleSubmit\");\n      event.preventDefault();\n    }\n\n    if (Object.keys(errors).length === 0 && Object.keys(values).length !== 0) {\n      callback();\n    } else {\n      alert(\"There is an Error!\");\n    }\n  };\n\n  return {\n    values,\n    errors,\n    handleChange,\n    handleSubmit\n  };\n};\n\n_s(useForm, \"oIbDGYi0uOTpTzOl9U/+/w4jPVs=\");\n\nexport default useForm;","map":{"version":3,"names":["React","useState","omit","useForm","callback","values","setValues","errors","setErrors","validate","event","name","value","length","user_search","newObj","handleChange","console","log","persist","target","val","handleSubmit","preventDefault","Object","keys","alert"],"sources":["/home/agoznzaga/Desktop/workspace/database-systems/DT-LetterBox/Letterboxd_Progression_FrontEnd/src/Hooks/useForm.js"],"sourcesContent":["//Adapted from dev.to Form Validation in ReactJs\n\nimport React, { useState } from 'react'\nimport {omit} from 'lodash'\n\nconst useForm = (callback) => {\n    \n    //Form values\n    const [values, setValues] = useState({});\n    //Errors\n    const [errors, setErrors] = useState({});\n\n\n\n    const validate = (event, name, value) => {\n        //A function to validate each input values\n\n        switch (name) {\n            case 'user_search':\n                if(value.length <= 4){\n                    // we will set the error state\n\n                    setErrors({\n                        ...errors,\n                        user_search:'Search atleast have 5 letters'\n                    })\n                }else{\n                    // set the error state empty or remove the error for username input\n\n                    //omit function removes/omits the value from given object and returns a new object\n                    let newObj = omit(errors, \"user_search\");\n                    setErrors(newObj);\n                    \n                }\n                break;\n        \n        \n            \n            default:\n                break;\n        }\n    }\n\n  //A method to handle form inputs\n    const handleChange = (event) => {\n        //To stop default events    \n        console.log(\"hello from handle change\")\n        event.persist();\n\n        let name = event.target.name;\n        let val = event.target.value;\n\n        validate(event,name,val);\n        //Let's set these values in state\n\n        setValues({\n            ...values,\n            [name]:val,\n        })\n\n    }\n\n\n    const handleSubmit = (event) => {\n        if(event) {\n            console.log(\"Hello from HandleSubmit\")\n            event.preventDefault();\n        }\n        if(Object.keys(errors).length === 0 && Object.keys(values).length !==0 ){\n            callback();\n\n        }else{\n            alert(\"There is an Error!\");\n        }\n    }\n\n\n    return {\n        values,\n        errors,\n        handleChange,\n        handleSubmit\n    }\n}\n\nexport default useForm"],"mappings":";;AAAA;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,IAAR,QAAmB,QAAnB;;AAEA,MAAMC,OAAO,GAAIC,QAAD,IAAc;EAAA;;EAE1B;EACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAAC,EAAD,CAApC,CAH0B,CAI1B;;EACA,MAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;;EAIA,MAAMQ,QAAQ,GAAG,CAACC,KAAD,EAAQC,IAAR,EAAcC,KAAd,KAAwB;IACrC;IAEA,QAAQD,IAAR;MACI,KAAK,aAAL;QACI,IAAGC,KAAK,CAACC,MAAN,IAAgB,CAAnB,EAAqB;UACjB;UAEAL,SAAS,CAAC,EACN,GAAGD,MADG;YAENO,WAAW,EAAC;UAFN,CAAD,CAAT;QAIH,CAPD,MAOK;UACD;UAEA;UACA,IAAIC,MAAM,GAAGb,IAAI,CAACK,MAAD,EAAS,aAAT,CAAjB;UACAC,SAAS,CAACO,MAAD,CAAT;QAEH;;QACD;;MAIJ;QACI;IAtBR;EAwBH,CA3BD,CAT0B,CAsC5B;;;EACE,MAAMC,YAAY,GAAIN,KAAD,IAAW;IAC5B;IACAO,OAAO,CAACC,GAAR,CAAY,0BAAZ;IACAR,KAAK,CAACS,OAAN;IAEA,IAAIR,IAAI,GAAGD,KAAK,CAACU,MAAN,CAAaT,IAAxB;IACA,IAAIU,GAAG,GAAGX,KAAK,CAACU,MAAN,CAAaR,KAAvB;IAEAH,QAAQ,CAACC,KAAD,EAAOC,IAAP,EAAYU,GAAZ,CAAR,CAR4B,CAS5B;;IAEAf,SAAS,CAAC,EACN,GAAGD,MADG;MAEN,CAACM,IAAD,GAAOU;IAFD,CAAD,CAAT;EAKH,CAhBD;;EAmBA,MAAMC,YAAY,GAAIZ,KAAD,IAAW;IAC5B,IAAGA,KAAH,EAAU;MACNO,OAAO,CAACC,GAAR,CAAY,yBAAZ;MACAR,KAAK,CAACa,cAAN;IACH;;IACD,IAAGC,MAAM,CAACC,IAAP,CAAYlB,MAAZ,EAAoBM,MAApB,KAA+B,CAA/B,IAAoCW,MAAM,CAACC,IAAP,CAAYpB,MAAZ,EAAoBQ,MAApB,KAA8B,CAArE,EAAwE;MACpET,QAAQ;IAEX,CAHD,MAGK;MACDsB,KAAK,CAAC,oBAAD,CAAL;IACH;EACJ,CAXD;;EAcA,OAAO;IACHrB,MADG;IAEHE,MAFG;IAGHS,YAHG;IAIHM;EAJG,CAAP;AAMH,CA9ED;;GAAMnB,O;;AAgFN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}